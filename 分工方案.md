# 电商瀑布流功能开发分工方案

**核心原则**：项目初期，我们将采用 **本地假数据（Mock Data）** 的方式进行开发，以实现前后端与UI开发的彻底解耦。

---

## 开发者 A (数据层负责人)

**核心目标**：为 App 提供稳定、格式统一的数据源。对其他开发者封装数据来源的细节。

#### 主要文件:

1.  **`app/src/main/java/com/team/bytedancewaterfall/data/FeedItem.kt`**
    *   **职责**: 定义和维护核心数据模型 `FeedItem`。==任何数据结构的变更（如增减字段）由你主导，并通知其他团队成员==。

2.  **`app/src/main/java/com/team/bytedancewaterfall/data/Repository.kt`**
    *   **职责**: 这是你的核心工作区。你需要创建并维护一个提供假数据的 `Repository` 类。
    *   **当前任务**:
        *   在 `Repository` 中实现一个或多个方法，例如 `fun getFeedItems(): List<FeedItem>`。
        *   创建足够丰富的假数据，确保数据覆盖所有定义的 `type`（0=商品, 1=活动, 2=视频等）。
        *   确保假数据能覆盖所有字段的边界情况，例如某些 `FeedItem` 有 `price`，有些则没有。==后期异构卡片的考量==

---

## 开发者 B (UI - 列表项 & 适配器负责人)

**核心目标**：将一个 `FeedItem` 数据对象，转化为用户在列表中能看到的、样式各异的精美卡片。

#### 主要文件:

1.  **`app/src/main/java/com/team/bytedancewaterfall/adapter/FeedAdapter.kt`**
    *   **职责**: 你的核心工作是实现一个支持异构布局的 `RecyclerView.Adapter`。
    *   **当前任务**:
        *   重写 `getItemViewType(position: Int)` 方法，根据 `FeedItem` 的 `type` 字段返回不同的视图类型。
        *   在 `onCreateViewHolder()` 中，根据 `viewType` 加载不同的卡片布局 XML 文件。
        *   创建多个独立的 `ViewHolder` 子类，分别管理不同类型的卡片视图。
        *   在 `onBindViewHolder()` 中，将数据绑定到对应的 `ViewHolder` 上（如加载图片、设置文本等）。

2.  **`app/src/main/res/layout/` 目录**
    *   **职责**: 创建所有异构卡片需要的 `.xml` 布局文件。
    *   **当前任务**: 根据 `FeedItem` 的 `type`，创建对应的布局文件，例如：
        *   `feed_item_product.xml` (双列商品)
        *   `feed_item_activity.xml` (大图活动)
        *   `feed_item_video.xml` (视频商品)

---

## 开发者 C (UI - 界面 & 交互负责人)

**核心目标**：搭建 App 的主界面，将数据和 UI 组件整合起来，并负责页面级别的交互逻辑。

#### 主要文件:

1.  **`app/src/main/java/com/team/bytedancewaterfall/MainActivity.kt`** (或对应的 Fragment)
    *   **职责**: 你的核心工作是管理主界面的 `RecyclerView` 及整体交互。
    *   **当前任务**:
        *   初始化 `RecyclerView` 并为其设置 `StaggeredGridLayoutManager`。
        *   处理异构布局的特殊情况，例如让某个类型的卡片占据整行。
        *   向 **开发者 A** 的 `Repository` 请求数据。
        *   创建 **开发者 B** 的 `FeedAdapter` 实例，并将获取到的数据传递给它。
        *   为 `Adapter` 设置点击事件监听，处理卡片点击后的页面跳转逻辑（例如启动 `DetailActivity`）。
2.  **`app/src/main/res/layout/activity_main.xml`**
    *   **职责**: 搭建主界面的基础布局。
    *   **当前任务**:
        *   确保布局中包含 `RecyclerView`。
        *   根据需要，加入 `SwipeRefreshLayout` (用于下拉刷新) 或 `ProgressBar` (用于加载状态)等页面级控件。==后续再考量==

